<!DOCTYPE html>
<html>
  <head>
    <title>Inventory App</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/index.css" />
  </head>
  <body>
    <div id="main-container">
      <div id="sidebar">
        <ul>
          <li><a href="/categories/new">Add Categories</a></li>
          <li><a href="/categories/edit">Edit Categories</a></li>
          <li><a href="/categories/delete">Delete Categories</a></li>
        </ul>
      </div>
      <div id="inventory-container">
        <div id="inventory-title">
          <h1>Inventory App</h1>
          <p><b>An Inventory management app for an imaginary store.</b></p>
        </div>
        <div id="inventory-cards">
          <div class="item-card">
            <p>Most Expensive Item:</p>
            <p class="item-highlight"><b><%= mostExpensiveItem %></b></p>
            <p>Priced at $ <b><%= mostExpensiveItemPrice %></b>. 😲</p>
          </div>
          <div class="item-card">
            <p>Top Stock Item:</p>
            <p class="item-highlight"><b><%= mostAbundantItem %></b></p>
            <p>
              Currently holds <b><%= mostAbundantItemQuantity%></b> in stock.
            </p>
          </div>
          <div class="item-card">
            <p>Number of Items in Inventory:</p>
            <p class="item-highlight"><b><%= totalInventoryQuantity%></b></p>
            <p>Add a few more items!</p>
          </div>
          <div class="item-card">
            <p>Total Value of Items:</p>
            <p class="item-highlight">$ <b><%= totalInventoryValue %></b></p>
            <p>
              <% if (totalInventoryValue > 999) { %> 🤑 <% } else { %> 💸 <% }
              %>
            </p>
          </div>
        </div>
        <div id="inventory-list">
          <div class="item-grid">
            <p class="item-name top"><b>Name</b></p>
            <p class="item-category top"><b>Category</b></p>
            <p class="item-quantity top"><b>Quantity</b></p>
            <p class="item-value top"><b>Price Per Unit</b></p>
            <p class="item-edit top"><b>Edit</b></p>
            <p class="item-delete top"><b>Delete</b></p>
          </div>
          <% items.forEach(function(item) { %>
          <div class="item-grid">
            <p class="item-name bottom"><%= item.name %></p>
            <p class="item-category bottom"><%= item.category %></p>
            <p class="item-quantity bottom"><%= item.quantity %></p>
            <p class="item-value bottom">$ <b><%= item.value %></b></p>

            <% /* Each emoji will become a form that will allow each individual
            item to be deleted/edited */ %>

            <p class="item-edit bottom">📝</p>
            <form
              method="POST"
              action="/items/<%= item.name %>?_method=DELETE"
              style="display: inline"
            >
              <input type="hidden" name="_method" value="DELETE" />
              <button
                type="submit"
                class="item-delete bottom"
                onclick="return confirm('Are you sure you want to delete this item?');"
              >
                🗑️
              </button>
            </form>
          </div>
          <% }); %>

          <div class="add-new-item">
            <a href="/items/new">Click here to add a new item</a>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
